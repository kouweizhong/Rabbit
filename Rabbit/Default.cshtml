@* Generator: WebPage *@
@using Rabbit
@{
    if (IsPost)
    {
        Page.Modules = SiteEngine.SetModules(Request.Form["modules"]);
        Log.Enabled = !Request.Form["EnableLog"].IsEmpty();
    }
    else 
    {
        Page.Modules = SiteEngine.GetModules();
    }

    var adminmenu = SiteEngine.RunHook("get_module_admin_menu", new List<string>()) as List<string>;   
}
<style type="text/css">
    h2{margin-top:30px}
</style>
<h1>Rabbit Framework Administration</h1>
<p>Rabbit Framework supports modules, plug-ins and templates. For more information, 
please visit <a href="http://rabbit.codeplex.com">Rabbit Framework</a>.</p>
<div style="float:left;width:50%">

<form method="post" action="">

<h2>Modules</h2>
<p>Listed below are all available Rabbit modules. To disable a module, put a # in front of it.
The modules will be loaded using the order they appear in the list.</p>
<textarea name="modules" rows="10" cols="40">@Page.Modules</textarea> 

<p><input type="checkbox" name="EnableLog" @Html.Raw(Log.Enabled?"checked=\"checked\"":"") /> Enable Logging<br />
It also requires &lt;compilation debug="true"&gt; is set in web.config</p>

<br /><br />
<input type="submit" value="Save" /> 
</form>
</div>

<div style="float:right;width:50%">
<h2>Module Admin</h2>

@if (adminmenu.Count() > 0)
{ 
    <ol>
    @foreach(var menu in adminmenu)
    {
        if(menu.Contains('|'))
        {
            var ss = menu.Split('|');
            <li class="admin-menu"><a href="@Href(ss[1])">@ss[0]</a></li>
        }
    }
    </ol>   
}
</div> 

