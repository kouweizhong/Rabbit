@helper Name() {
    if (App.Site == null) { App.Site = SiteSettings.Load().Value; }
    <text>@App.Site.Name</text>
}

@helper Author() {
    if (App.Site == null) { App.Site = SiteSettings.Load().Value; }
    <text>@App.Site.Author</text>
}

@helper Templates(string current) {
    var menu = new List<string>{"Default"};
    <select name="Template">
        @foreach (var s in SiteEngine.RunHook("get_templates", menu) as IEnumerable<string>)
        {
            if (s == current) 
            {
                <option selected="selected" value="@s">@s</option>
            }
            else
            { 
                <option value="@s">@s</option>
            }
        }
    </select>
}

@helper MainMenu()
    {
    var menu = new List<string>{"Home|~/"};  
    <ul id="menu">
        @foreach (var s in SiteEngine.RunHook("get_menu", menu) as IEnumerable<string>)
        {
            var ss = s.Split('|');

            if (Request.AppRelativeCurrentExecutionFilePath == ss[1])
            { 
                <li class="selected"><a href="@Href(ss[1])">@ss[0]</a></li>
            }
            else
            { 
                <li><a href="@Href(ss[1])">@ss[0]</a></li>
            }
        }
    </ul>
} 